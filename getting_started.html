
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Getting started &#8212; FMskill  documentation</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Simple time series comparison" href="simple_compare.html" />
    <link rel="prev" title="FMskill: Assess the skill of your MIKE FM model" href="index.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="_static/mike-fm-skill-rgb.svg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">FMskill  documentation</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Contents:
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Getting started
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="simple_compare.html">
   Simple time series comparison
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="design.html">
   Design philosophy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="vision.html">
   Vision
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="api.html">
   API Documentation
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Theme by the <a href="https://ebp.jupyterbook.org">Executable Book Project</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/getting_started.rst.txt"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.rst</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#workflow">
   Workflow
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-modelresults">
     1. Define ModelResults
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-observations">
     2. Define Observations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connect-observations-and-modelresults">
     3. Connect observations and ModelResults
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#note">
       Note
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-modelresults-at-observation-positions">
     4. Extract ModelResults at observation positions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-analysis-plotting-etc-with-a-comparer">
     5. Do analysis, plotting, etc with a Comparer
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#filtering">
       Filtering
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Getting started</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#workflow">
   Workflow
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-modelresults">
     1. Define ModelResults
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#define-observations">
     2. Define Observations
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#connect-observations-and-modelresults">
     3. Connect observations and ModelResults
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#note">
       Note
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-modelresults-at-observation-positions">
     4. Extract ModelResults at observation positions
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#do-analysis-plotting-etc-with-a-comparer">
     5. Do analysis, plotting, etc with a Comparer
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#filtering">
       Filtering
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section id="getting-started">
<span id="id1"></span><h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">#</a></h1>
<p>This page describes the typical FMskill workflow for comparing
model results and observations. If you just need a simple one-to-one
time series comparison, see the <a class="reference external" href="simple_compare.html">simple time series comparison</a>.</p>
<section id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">#</a></h2>
<p>The typical FMskill workflow consists of these five steps:</p>
<ol class="arabic simple">
<li><p>Define <strong>ModelResults</strong></p></li>
<li><p>Define <strong>Observations</strong></p></li>
<li><p><strong>Connect</strong> observations and ModelResults</p></li>
<li><p><strong>Extract</strong> ModelResults at observation positions</p></li>
<li><p>Do analysis, plotting, etc with a <strong>Comparer</strong></p></li>
</ol>
<section id="define-modelresults">
<h3>1. Define ModelResults<a class="headerlink" href="#define-modelresults" title="Permalink to this headline">#</a></h3>
<p>The result of a MIKE 21/3 simulation is stored in one or more dfs files.
The most common formats are .dfsu for distributed data and .dfs0 for
time series point data. A FMskill <a class="reference external" href="api.html#fmskill.model.ModelResult">ModelResult</a> is defined by the
result file path and a name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fmskill</span> <span class="kn">import</span> <span class="n">ModelResult</span>
<span class="n">mr</span> <span class="o">=</span> <span class="n">ModelResult</span><span class="p">(</span><span class="s2">&quot;HKZN_local_2017.dfsu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;HKZN_local&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Currently, ModelResult supports .dfs0 and .dfsu files and pandas DataFrame.
Only the file header is read when the ModelResult object is created.
The data will be read later.</p>
<p>The ModelResult can be constructed without specifying a specific item as shown here.
But the the item must be specified later (e.g. when connecting to an observation)
by mr[0] or similar.</p>
</section>
<section id="define-observations">
<h3>2. Define Observations<a class="headerlink" href="#define-observations" title="Permalink to this headline">#</a></h3>
<p>The next step is to define the measurements to be used for the skill assessment.
Two types of observation are available:</p>
<ul class="simple">
<li><p><a class="reference external" href="api.html#fmskill.observation.PointObservation">PointObservation</a></p></li>
<li><p><a class="reference external" href="api.html#fmskill.observation.TrackObservation">TrackObservation</a></p></li>
</ul>
<p>Let’s assume that we have one PointObservation and one TrackObservation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fmskill</span> <span class="kn">import</span> <span class="n">PointObservation</span><span class="p">,</span> <span class="n">TrackObservation</span>
<span class="n">HKNA</span> <span class="o">=</span> <span class="n">PointObservation</span><span class="p">(</span><span class="s2">&quot;HKNA_Hm0.dfs0&quot;</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">4.2420</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">52.6887</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;HKNA&quot;</span><span class="p">)</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">TrackObservation</span><span class="p">(</span><span class="s2">&quot;Alti_c2_Dutch.dfs0&quot;</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;c2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case both observations are provided as .dfs0 files but pandas
dataframes are also supported in case data are stored in another file format.</p>
<p>Both PointObservation and TrackObservation need the path of the data file,
the item number (or item name) and a name. A PointObservation further needs to be initialized with it’s x-, y-position.</p>
</section>
<section id="connect-observations-and-modelresults">
<h3>3. Connect observations and ModelResults<a class="headerlink" href="#connect-observations-and-modelresults" title="Permalink to this headline">#</a></h3>
<p>The observations are connected with a model result using the
<a class="reference external" href="api.html#fmskill.connection.Connector">Connector</a> like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fmskill</span> <span class="kn">import</span> <span class="n">Connector</span>
<span class="n">con</span> <span class="o">=</span> <span class="n">Connector</span><span class="p">([</span><span class="n">HKNA</span><span class="p">,</span> <span class="n">c2</span><span class="p">],</span> <span class="n">mr</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
<section id="note">
<h4>Note<a class="headerlink" href="#note" title="Permalink to this headline">#</a></h4>
<p>Only ModelResults with a single item can be added to the Connector.
From a multi-item ModelResult ‘mr’ an item must selected e.g. with
‘mr[0]’ before adding.</p>
</section>
</section>
<section id="extract-modelresults-at-observation-positions">
<h3>4. Extract ModelResults at observation positions<a class="headerlink" href="#extract-modelresults-at-observation-positions" title="Permalink to this headline">#</a></h3>
<p>Once the observations and the model results have been connected,
its very simple to do the extraction which interpolates the model results
in space and time to the observation points using the <a class="reference external" href="api.html#fmskill.connection.Connector.extract">extract()</a> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">=</span> <span class="n">con</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
</pre></div>
</div>
<p>The extract method returns a <a class="reference external" href="api.html#fmskill.comparison.ComparerCollection">ComparerCollection</a> for further analysis and plotting.</p>
</section>
<section id="do-analysis-plotting-etc-with-a-comparer">
<h3>5. Do analysis, plotting, etc with a Comparer<a class="headerlink" href="#do-analysis-plotting-etc-with-a-comparer" title="Permalink to this headline">#</a></h3>
<p>The object returned by the <code class="docutils literal notranslate"><span class="pre">extract()</span></code> method is a <em>comparer</em>.
It holds the matched observation and model data and has methods
for plotting and skill assessment.</p>
<p>The primary comparer methods are:</p>
<ul class="simple">
<li><p><a class="reference external" href="api.html#fmskill.comparison.ComparerCollection.skill">skill()</a> which returns a pandas dataframe with the skill scores</p></li>
<li><p><a class="reference external" href="api.html#fmskill.comparison.ComparerCollection.scatter">scatter()</a> which shows a scatter density plot of the data</p></li>
</ul>
<section id="filtering">
<h4>Filtering<a class="headerlink" href="#filtering" title="Permalink to this headline">#</a></h4>
<p>Both methods allow filtering of the data in several ways:</p>
<ul class="simple">
<li><p>on <code class="docutils literal notranslate"><span class="pre">observation</span></code> by specifying name or id of one or more observations</p></li>
<li><p>on <code class="docutils literal notranslate"><span class="pre">model</span></code> (if more than one is compared) by giving name or id</p></li>
<li><p>temporal using the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> arguments</p></li>
<li><p>spatial using the <code class="docutils literal notranslate"><span class="pre">area</span></code> argument given as a bounding box or a polygon</p></li>
</ul>
</section>
</section>
</section>
</section>


              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="index.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">FMskill: Assess the skill of your MIKE FM model</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="simple_compare.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Simple time series comparison</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Jesper Mariegaard, Henrik Andersson, Hendrik Wrenger<br/>
  
      &copy; Copyright 2021, Jesper Mariegaard, Henrik Andersson, Hendrik Wrenger.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>