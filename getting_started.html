

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Getting started &mdash; fmskill 0.1.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Design philosophy" href="design.html" />
    <link rel="prev" title="fmskill: Assess the skill of your MIKE FM model" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> fmskill
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#workflow">Workflow</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#define-modelresults">1. Define ModelResults</a></li>
<li class="toctree-l3"><a class="reference internal" href="#define-observations">2. Define Observations</a></li>
<li class="toctree-l3"><a class="reference internal" href="#associate-observations-with-modelresults">3. Associate observations with ModelResults</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extract-modelresults-at-observation-positions">4. Extract ModelResults at observation positions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#do-analysis-plotting-etc-with-a-comparer">5. Do analysis, plotting, etc with a Comparer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#filtering">Filtering</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="design.html">Design philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="vision.html">Vision</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API Documentation</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">fmskill</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Getting started</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="getting-started">
<span id="id1"></span><h1>Getting started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h1>
<div class="section" id="workflow">
<h2>Workflow<a class="headerlink" href="#workflow" title="Permalink to this headline">¶</a></h2>
<p>The typical fmskill workflow consists of these five steps:</p>
<ol class="arabic simple">
<li><p>Define <strong>ModelResults</strong></p></li>
<li><p>Define <strong>Observations</strong></p></li>
<li><p><strong>Associate</strong> observations with ModelResults</p></li>
<li><p><strong>Extract</strong> ModelResults at observation positions</p></li>
<li><p>Do analysis, plotting, etc with a <strong>Comparer</strong></p></li>
</ol>
<div class="section" id="define-modelresults">
<h3>1. Define ModelResults<a class="headerlink" href="#define-modelresults" title="Permalink to this headline">¶</a></h3>
<p>The result of a MIKE 21/3 simulation is stored in one or more dfs files.
The most common formats are .dfsu for distributed data and .dfs0 for
time series point data. A fmskill <a class="reference external" href="api.html#fmskill.model.ModelResult">ModelResult</a> is defined by the
result file path and a name:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fmskill</span> <span class="kn">import</span> <span class="n">ModelResult</span>
<span class="n">mr</span> <span class="o">=</span> <span class="n">ModelResult</span><span class="p">(</span><span class="s2">&quot;HKZN_local_2017.dfsu&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;HKZN_local&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Currently, ModelResult supports .dfs0 and .dfsu files.
Only the file header is read when the ModelResult object is created.
The data will be read later.</p>
<p>Note: multiple models can be assessed using the <a class="reference external" href="api.html#fmskill.model.ModelResultCollection">ModelResultCollection</a>.</p>
</div>
<div class="section" id="define-observations">
<h3>2. Define Observations<a class="headerlink" href="#define-observations" title="Permalink to this headline">¶</a></h3>
<p>The next step is to define the measurements to be used for the skill assessment.
Two types of observation are available:</p>
<ul class="simple">
<li><p><a class="reference external" href="api.html#fmskill.observation.PointObservation">PointObservation</a></p></li>
<li><p><a class="reference external" href="api.html#fmskill.observation.TrackObservation">TrackObservation</a></p></li>
</ul>
<p>Let’s assume that we have one PointObservation and one TrackObservation:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">fmskill</span> <span class="kn">import</span> <span class="n">PointObservation</span><span class="p">,</span> <span class="n">TrackObservation</span>
<span class="n">HKNA</span> <span class="o">=</span> <span class="n">PointObservation</span><span class="p">(</span><span class="s2">&quot;HKNA_Hm0.dfs0&quot;</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="mf">4.2420</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mf">52.6887</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;HKNA&quot;</span><span class="p">)</span>
<span class="n">c2</span> <span class="o">=</span> <span class="n">TrackObservation</span><span class="p">(</span><span class="s2">&quot;Alti_c2_Dutch.dfs0&quot;</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;c2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>In this case both observations are provided as .dfs0 files but pandas
dataframes are also supported in case data are stored in another file format.</p>
<p>Both PointObservation and TrackObservation need the path of the data file,
the item number (or item name) and a name. A PointObservation further needs to be initialized with it’s x-, y-position.</p>
</div>
<div class="section" id="associate-observations-with-modelresults">
<h3>3. Associate observations with ModelResults<a class="headerlink" href="#associate-observations-with-modelresults" title="Permalink to this headline">¶</a></h3>
<p>The observations are associated with a model result one by one using the
<a class="reference external" href="api.html#fmskill.model.ModelResult.add_observation">add_observation()</a> method like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">mr</span><span class="o">.</span><span class="n">add_observation</span><span class="p">(</span><span class="n">HKNA</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">mr</span><span class="o">.</span><span class="n">add_observation</span><span class="p">(</span><span class="n">c2</span><span class="p">,</span> <span class="n">item</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="extract-modelresults-at-observation-positions">
<h3>4. Extract ModelResults at observation positions<a class="headerlink" href="#extract-modelresults-at-observation-positions" title="Permalink to this headline">¶</a></h3>
<p>Once the observations have been associated with the model results,
its very simple to do the extraction which interpolates the model results
in space and time to the observation points using the <a class="reference external" href="api.html#fmskill.model.ModelResult.extract">extract()</a> method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">cc</span> <span class="o">=</span> <span class="n">mr</span><span class="o">.</span><span class="n">extract</span><span class="p">()</span>
</pre></div>
</div>
<p>The extract method returns a <a class="reference external" href="api.html#fmskill.compare.ComparerCollection">ComparerCollection</a> for further analysis and plotting.</p>
</div>
<div class="section" id="do-analysis-plotting-etc-with-a-comparer">
<h3>5. Do analysis, plotting, etc with a Comparer<a class="headerlink" href="#do-analysis-plotting-etc-with-a-comparer" title="Permalink to this headline">¶</a></h3>
<p>The object returned by the <code class="docutils literal notranslate"><span class="pre">extract()</span></code> method is a <em>comparer</em>.
It holds the matched observation and model data and has methods
for plotting and skill assessment.</p>
<p>The primary comparer methods are:</p>
<ul class="simple">
<li><p><a class="reference external" href="api.html#fmskill.compare.ComparerCollection.skill">skill()</a> which returns a pandas dataframe with the skill scores</p></li>
<li><p><a class="reference external" href="api.html#fmskill.compare.ComparerCollection.scatter">scatter()</a> which shows a scatter density plot of the data</p></li>
</ul>
<div class="section" id="filtering">
<h4>Filtering<a class="headerlink" href="#filtering" title="Permalink to this headline">¶</a></h4>
<p>Both methods allow filtering of the data in several ways:</p>
<ul class="simple">
<li><p>on <code class="docutils literal notranslate"><span class="pre">observation</span></code> by specifying name or id of one or more observations</p></li>
<li><p>on <code class="docutils literal notranslate"><span class="pre">model</span></code> (if more than one is compared) by giving name or id</p></li>
<li><p>temporal using the <code class="docutils literal notranslate"><span class="pre">start</span></code> and <code class="docutils literal notranslate"><span class="pre">end</span></code> arguments</p></li>
<li><p>spatial using the <code class="docutils literal notranslate"><span class="pre">area</span></code> argument given as a bounding box or a polygon</p></li>
</ul>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="design.html" class="btn btn-neutral float-right" title="Design philosophy" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="fmskill: Assess the skill of your MIKE FM model" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Jesper Mariegaard, Henrik Andersson, Hendrik Wrenger.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>